import{_ as s,o as a,c as l,Q as o}from"./chunks/framework.b699761e.js";const E=JSON.parse('{"title":"编译和配置","description":"","frontmatter":{},"headers":[],"relativePath":"guide/start/source.md","filePath":"guide/start/source.md","lastUpdated":null}'),e={name:"guide/start/source.md"},n=o(`<h1 id="编译和配置" tabindex="-1">编译和配置 <a class="header-anchor" href="#编译和配置" aria-label="Permalink to &quot;编译和配置&quot;">​</a></h1><p>SAW 可以从源码编译和启动，但推荐更简单的Docker方式启动。</p><h2 id="live-streaming" tabindex="-1">Live Streaming <a class="header-anchor" href="#live-streaming" aria-label="Permalink to &quot;Live Streaming&quot;">​</a></h2><p>直播是SAW的典型场景，支持推直播流后浏览器直接观看的方式。</p><h3 id="前提" tabindex="-1">前提 <a class="header-anchor" href="#前提" aria-label="Permalink to &quot;前提&quot;">​</a></h3><ul><li>安装 <strong>rust</strong>(<a href="https://www.rust-lang.org/tools/install" target="_blank" rel="noreferrer">开始下载</a>)。</li><li>通过命令行接口访问SAW的终端。</li></ul><blockquote><p><em>本项目基于rust开发，请提前安装rust。</em></p></blockquote><h3 id="运行-saw" tabindex="-1">运行 SAW <a class="header-anchor" href="#运行-saw" aria-label="Permalink to &quot;运行 SAW&quot;">​</a></h3><ul><li>下载源码:</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">git clone https://github.com/binbat/live777.git</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">git clone https://github.com/binbat/live777.git</span></span></code></pre></div><ul><li>编译，注意需要切换<code>live777</code>目录</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">live777</span></span>
<span class="line"><span style="color:#B392F0;">cargo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">build</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">live777</span></span>
<span class="line"><span style="color:#6F42C1;">cargo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">build</span></span></code></pre></div><ul><li>启动服务器</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">cargo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">cargo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span></span></code></pre></div><h3 id="推流" tabindex="-1">推流 <a class="header-anchor" href="#推流" aria-label="Permalink to &quot;推流&quot;">​</a></h3><ul><li>使用<a href="https://gstreamer.freedesktop.org/download/" target="_blank" rel="noreferrer">Gstreamer</a> 或 <a href="./(https://obsproject.com/forum/threads/obs-studio-30-beta.168984/).html">OBS</a>推流 :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">gst-launch-1.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">videotestsrc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">!</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">videoconvert</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">!</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vp8enc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">!</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rtpvp8pay</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">!</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">whipsink</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">whip-endpoint=&quot;http://localhost:3000/whip/777&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">gst-launch-1.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">videotestsrc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">!</span><span style="color:#24292E;"> </span><span style="color:#032F62;">videoconvert</span><span style="color:#24292E;"> </span><span style="color:#032F62;">!</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vp8enc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">!</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rtpvp8pay</span><span style="color:#24292E;"> </span><span style="color:#032F62;">!</span><span style="color:#24292E;"> </span><span style="color:#032F62;">whipsink</span><span style="color:#24292E;"> </span><span style="color:#032F62;">whip-endpoint=&quot;http://localhost:3000/whip/777&quot;</span></span></code></pre></div><blockquote><p>Note:</p><ol><li>OBS Studio 需要<strong>30或更高的版本</strong></li><li>OBS WHIP 协议目前仅能支持<strong>H264</strong>视频编码和<strong>Opus</strong>音频编码</li></ol></blockquote><h3 id="播放视频" tabindex="-1">播放视频 <a class="header-anchor" href="#播放视频" aria-label="Permalink to &quot;播放视频&quot;">​</a></h3><ul><li>打开浏览器，输入网址:<code>http://localhost:3000/</code></li></ul>`,20),t=[n];function p(r,c,i,d,h,u){return a(),l("div",null,t)}const g=s(e,[["render",p]]);export{E as __pageData,g as default};
